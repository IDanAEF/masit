!function(){"use strict";var e=e=>{function t(e){let t=e.target.getAttribute("data-format")?e.target.getAttribute("data-format"):"+_ (___) ___-__-__",c=0,a=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");a.length>=s.length&&(s=a),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&c<s.length?s.charAt(c++):c>=s.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let c=t.createTextRange();c.collapse(!0),c.moveEnd("character",e),c.moveStart("character",e),c.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("blur",t)}))};window.addEventListener("DOMContentLoaded",(()=>{(()=>{try{const e=document.querySelector(".slider-page"),t=document.querySelectorAll(".slider-page-item"),c=document.querySelector(".main__dots"),a=document.querySelectorAll(".header__menu-item"),s=document.querySelectorAll(".mobile-menu__item"),o=document.querySelectorAll(".new-news-cont");if(c)for(let e=0;e<t.length;e++){const e=document.createElement("div");e.classList.add("main__dots-item"),e.innerHTML="<span></span>",c.append(e)}const r=c?c.querySelectorAll(".main__dots-item"):[];let l=0,n=!1,i=!1;const d=()=>{r.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),o.length>0&&o.forEach((e=>e.classList.remove("active"))),e.classList.contains("menu-activity")&&(a.forEach((e=>e.classList.remove("active"))),a[l].classList.add("active")),r[l].classList.add("active"),t[l].classList.add("active"),i=!1,document.querySelector("body").classList.remove("fixed"),document.querySelector(".mobile-menu").classList.remove("active")},u=e=>{let c=!0;n||(e>=0?l==t.length-1?c=!1:l++:0==l?c=!1:l--,c&&(d(),n=!0,setTimeout((()=>{n=!1}),900)))},m=t=>{t.forEach(((t,c)=>{t.addEventListener("click",(t=>{e&&e.classList.contains("menu-activity")?(t.preventDefault(),l=c,d()):(t.preventDefault(),window.location.href=document.querySelector("body").getAttribute("data-home"))}))}))};if(m(a),m(s),e){d(),r.forEach(((e,t)=>{e.addEventListener("click",(()=>{l=t,d()}))})),window.addEventListener("wheel",(e=>{i||u(e.deltaY)}));let e=0;window.addEventListener("touchstart",(t=>{e=t.changedTouches[0].screenY})),window.addEventListener("touchend",(t=>{i||(e-t.changedTouches[0].screenY>50?u(1):e-t.changedTouches[0].screenY<-50&&u(-1))}))}const v=document.querySelector(".modal"),h=document.querySelectorAll(".modal-targ"),g=document.querySelectorAll(".new-title"),y=document.querySelectorAll(".back-title");g.length>0&&(g.forEach((e=>{e.addEventListener("click",(c=>{window.innerWidth>=992&&(c.preventDefault(),t.forEach((e=>e.classList.remove("active"))),document.querySelector(`.new-news-cont[data-new="${e.getAttribute("data-new")}"]`).classList.add("active"))}))})),y.forEach((e=>{e.addEventListener("click",(()=>{d()}))}))),h.forEach((e=>{e.addEventListener("click",(()=>{const t=v.querySelector(`#${e.getAttribute("data-modal")}`);t&&(i=!0,document.querySelector(".mobile-menu").classList.remove("active"),document.querySelector("body").classList.add("fixed"),v.classList.add("active"),t.classList.add("active"))}))})),v.addEventListener("click",(e=>{e.target.classList.contains("modal__close")&&(i=!1,v.querySelectorAll(".modal__item").forEach((e=>{e.classList.remove("active")})),document.querySelector("body").classList.remove("fixed"),v.querySelector("#message .wrap").classList.add("active"),v.querySelector("#message .wrap.success").classList.remove("active"),v.classList.remove("active"))}));const L=document.querySelector(".mobile-menu"),f=document.querySelector(".header__burg"),p=L.querySelector(".mobile-menu__close");f.addEventListener("click",(()=>{document.querySelector("body").classList.add("fixed"),L.classList.add("active")})),p.addEventListener("click",(()=>{i=!1,document.querySelector("body").classList.remove("fixed"),L.classList.remove("active")}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll(".header__menu-item");let t=.88;e.forEach((e=>{e.style.cssText=`transition: 0.6s all ${t}s`,e.classList.add("top"),t+=.11}))}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".mouse-move");document.querySelector("main.slider-page")&&(e.forEach((e=>{e.setAttribute("data-top",+window.getComputedStyle(e).top.replace("px","")),e.classList.contains("right")?e.setAttribute("data-right",+window.getComputedStyle(e).right.replace("px","")):e.setAttribute("data-left",+window.getComputedStyle(e).left.replace("px",""))})),window.addEventListener("mousemove",(e=>{window.innerWidth>=1024&&document.querySelector(".main__page.active").querySelectorAll(".mouse-move").forEach((t=>{t.style.top=+t.getAttribute("data-top")+(e.pageY-window.innerHeight/2)/6+"px",t.classList.contains("right")?t.style.right=+t.getAttribute("data-right")-(e.pageX-window.innerWidth/2)/12+"px":t.style.left=+t.getAttribute("data-left")+(e.pageX-window.innerWidth/2)/12+"px"}))})))}catch(e){console.log(e.stack)}})(),e('input[type="tel"]'),(()=>{try{document.querySelectorAll(".form_block").forEach((e=>{const t=e.querySelector("input, textarea");e.classList.contains("label-top")?(t.addEventListener("focus",(()=>{e.classList.add("active")})),t.addEventListener("blur",(()=>{t.value||e.classList.remove("active")}))):e.classList.contains("checkbox")&&t.addEventListener("change",(()=>{e.classList.toggle("active")}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelector("#message"),t=e.querySelector("form");t.addEventListener("submit",(c=>{c.preventDefault(),async function(e,t){let c=await fetch("mail.php",{method:"POST",body:t});return await c.text()}(0,new FormData(t)).then((()=>{var c,a;e.querySelector(".wrap").classList.remove("active"),e.querySelector(".wrap.success").classList.add("active"),c=t,a=t.querySelectorAll(".form_block"),c.reset(),a.forEach((e=>e.classList.remove("active")))}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelector(".header__lang");e.addEventListener("click",(()=>{e.classList.toggle("active")}))}catch(e){console.log(e.stack)}try{const e=document.getElementsByClassName("asyncImage");Array.from(e).map((e=>{const t=new Image;t.src=e.dataset.src,t.onload=()=>(e.classList.remove("asyncImage"),"IMG"===e.nodeName?e.src=e.dataset.src:e.style.backgroundImage=`url(${e.dataset.src})`)}))}catch(e){console.log(e.stack)}})()}))}();